(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70f3da64"],{2017:function(t,e,n){"use strict";n("cafe")},"9ed6":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-container"},[n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,"label-position":"left",autocomplete:"on"}},[n("el-card",{attrs:{shadow:"always"}},[n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[t._v("登录")])]),n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{ref:"username",attrs:{placeholder:"用户名",name:"username",type:"text",tabindex:"1",autocomplete:"on"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin.apply(null,arguments)}},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),n("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:t.capsTooltip,callback:function(e){t.capsTooltip=e},expression:"capsTooltip"}},[n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{ref:"password",attrs:{type:"password",placeholder:"密码",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(e){t.capsTooltip=!1}},nativeOn:{keyup:[function(e){return t.checkCapslock.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin.apply(null,arguments)}]},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1)],1),n("el-form-item",{staticClass:"captcha-code",attrs:{prop:"captchaCode"}},[n("el-input",{ref:"username",attrs:{placeholder:"验证码",name:"captchaCode",type:"text",tabindex:"3",autocomplete:"off"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin.apply(null,arguments)}},model:{value:t.loginForm.captchaCode,callback:function(e){t.$set(t.loginForm,"captchaCode",e)},expression:"loginForm.captchaCode"}}),t.loginForm.captchaUrl?n("div",{staticClass:"captcha-code-img"},[n("a",{on:{click:t.showCaptcha}},[n("img",{attrs:{src:t.loginForm.captchaUrl}})])]):t._e()],1),n("el-button",{staticStyle:{width:"100%","margin-bottom":"15px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin.apply(null,arguments)}}},[t._v(" Login ")])],1)],1)],1)},a=[],o=n("1da1"),c=(n("b64b"),n("96cf"),n("99af"),0),i="",l=8;function s(t){return A(m(x(t),t.length*l))}function u(t){return $(m(x(t),t.length*l))}function p(t){return O(m(x(t),t.length*l))}function h(t,e){return A(C(t,e))}function d(t,e){return $(C(t,e))}function f(t,e){return O(C(t,e))}function m(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,r=-271733879,a=-1732584194,o=271733878,c=0;c<t.length;c+=16){var i=n,l=r,s=a,u=o;n=y(n,r,a,o,t[c+0],7,-680876936),o=y(o,n,r,a,t[c+1],12,-389564586),a=y(a,o,n,r,t[c+2],17,606105819),r=y(r,a,o,n,t[c+3],22,-1044525330),n=y(n,r,a,o,t[c+4],7,-176418897),o=y(o,n,r,a,t[c+5],12,1200080426),a=y(a,o,n,r,t[c+6],17,-1473231341),r=y(r,a,o,n,t[c+7],22,-45705983),n=y(n,r,a,o,t[c+8],7,1770035416),o=y(o,n,r,a,t[c+9],12,-1958414417),a=y(a,o,n,r,t[c+10],17,-42063),r=y(r,a,o,n,t[c+11],22,-1990404162),n=y(n,r,a,o,t[c+12],7,1804603682),o=y(o,n,r,a,t[c+13],12,-40341101),a=y(a,o,n,r,t[c+14],17,-1502002290),r=y(r,a,o,n,t[c+15],22,1236535329),n=v(n,r,a,o,t[c+1],5,-165796510),o=v(o,n,r,a,t[c+6],9,-1069501632),a=v(a,o,n,r,t[c+11],14,643717713),r=v(r,a,o,n,t[c+0],20,-373897302),n=v(n,r,a,o,t[c+5],5,-701558691),o=v(o,n,r,a,t[c+10],9,38016083),a=v(a,o,n,r,t[c+15],14,-660478335),r=v(r,a,o,n,t[c+4],20,-405537848),n=v(n,r,a,o,t[c+9],5,568446438),o=v(o,n,r,a,t[c+14],9,-1019803690),a=v(a,o,n,r,t[c+3],14,-187363961),r=v(r,a,o,n,t[c+8],20,1163531501),n=v(n,r,a,o,t[c+13],5,-1444681467),o=v(o,n,r,a,t[c+2],9,-51403784),a=v(a,o,n,r,t[c+7],14,1735328473),r=v(r,a,o,n,t[c+12],20,-1926607734),n=k(n,r,a,o,t[c+5],4,-378558),o=k(o,n,r,a,t[c+8],11,-2022574463),a=k(a,o,n,r,t[c+11],16,1839030562),r=k(r,a,o,n,t[c+14],23,-35309556),n=k(n,r,a,o,t[c+1],4,-1530992060),o=k(o,n,r,a,t[c+4],11,1272893353),a=k(a,o,n,r,t[c+7],16,-155497632),r=k(r,a,o,n,t[c+10],23,-1094730640),n=k(n,r,a,o,t[c+13],4,681279174),o=k(o,n,r,a,t[c+0],11,-358537222),a=k(a,o,n,r,t[c+3],16,-722521979),r=k(r,a,o,n,t[c+6],23,76029189),n=k(n,r,a,o,t[c+9],4,-640364487),o=k(o,n,r,a,t[c+12],11,-421815835),a=k(a,o,n,r,t[c+15],16,530742520),r=k(r,a,o,n,t[c+2],23,-995338651),n=w(n,r,a,o,t[c+0],6,-198630844),o=w(o,n,r,a,t[c+7],10,1126891415),a=w(a,o,n,r,t[c+14],15,-1416354905),r=w(r,a,o,n,t[c+5],21,-57434055),n=w(n,r,a,o,t[c+12],6,1700485571),o=w(o,n,r,a,t[c+3],10,-1894986606),a=w(a,o,n,r,t[c+10],15,-1051523),r=w(r,a,o,n,t[c+1],21,-2054922799),n=w(n,r,a,o,t[c+8],6,1873313359),o=w(o,n,r,a,t[c+15],10,-30611744),a=w(a,o,n,r,t[c+6],15,-1560198380),r=w(r,a,o,n,t[c+13],21,1309151649),n=w(n,r,a,o,t[c+4],6,-145523070),o=w(o,n,r,a,t[c+11],10,-1120210379),a=w(a,o,n,r,t[c+2],15,718787259),r=w(r,a,o,n,t[c+9],21,-343485551),n=F(n,i),r=F(r,l),a=F(a,s),o=F(o,u)}return Array(n,r,a,o)}function g(t,e,n,r,a,o){return F(b(F(F(e,t),F(r,o)),a),n)}function y(t,e,n,r,a,o,c){return g(e&n|~e&r,t,e,a,o,c)}function v(t,e,n,r,a,o,c){return g(e&r|n&~r,t,e,a,o,c)}function k(t,e,n,r,a,o,c){return g(e^n^r,t,e,a,o,c)}function w(t,e,n,r,a,o,c){return g(n^(e|~r),t,e,a,o,c)}function C(t,e){var n=x(t);n.length>16&&(n=m(n,t.length*l));for(var r=Array(16),a=Array(16),o=0;o<16;o++)r[o]=909522486^n[o],a[o]=1549556828^n[o];var c=m(r.concat(x(e)),512+e.length*l);return m(a.concat(c),640)}function F(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function b(t,e){return t<<e|t>>>32-e}function x(t){for(var e=Array(),n=(1<<l)-1,r=0;r<t.length*l;r+=l)e[r>>5]|=(t.charCodeAt(r/l)&n)<<r%32;return e}function O(t){for(var e="",n=(1<<l)-1,r=0;r<32*t.length;r+=l)e+=String.fromCharCode(t[r>>5]>>>r%32&n);return e}function A(t){for(var e=c?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*t.length;r++)n+=e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15);return n}function $(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0;r<4*t.length;r+=3)for(var a=(t[r>>2]>>r%4*8&255)<<16|(t[r+1>>2]>>(r+1)%4*8&255)<<8|t[r+2>>2]>>(r+2)%4*8&255,o=0;o<4;o++)8*r+6*o>32*t.length?n+=i:n+=e.charAt(a>>6*(3-o)&63);return n}function T(t,e){switch(e){case"1":return s(t);case"2":return u(t);case"3":return p(t);case"4":return h(t);case"5":return d(t);case"6":return f(t);default:return s(t)}}var I={data:function(){return{loginForm:{username:"",password:"",captchaId:"",captchaUrl:"",captchaCode:""},capsTooltip:!1,loading:!1,redirect:void 0,otherQuery:{}}},watch:{$route:{handler:function(t){var e=t.query;e&&(this.redirect=e.redirect,this.otherQuery=this.getOtherQuery(e))},immediate:!0}},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus(),this.showCaptcha()},methods:{showCaptcha:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.get("/api/app/captcha/request?captchaId="+t.loginForm.captchaId);case 3:n=e.sent,t.loginForm.captchaId=n.captchaId,t.loginForm.captchaUrl="data:"+n.imgType+";base64,"+n.captchaCodeImg,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),t.$message.error(e.t0.message||e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},checkCapslock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.shiftKey,n=t.key;n&&1===n.length&&(this.capsTooltip=!!(e&&n>="a"&&n<="z"||!e&&n>="A"&&n<="Z")),"CapsLock"===n&&!0===this.capsTooltip&&(this.capsTooltip=!1)},handleLogin:function(){var t=this;this.$refs.loginForm.validate((function(e){if(e){t.loading=!0;var n=T(t.loginForm.password);return t.$store.dispatch("user/login",{username:t.loginForm.username,password:n,captchaId:t.loginForm.captchaId,captchaCode:t.loginForm.captchaCode}).then((function(){t.$router.push({path:t.redirect||"/",query:t.otherQuery}),t.loading=!1})).catch((function(e){t.showCaptcha(),t.loading=!1})),!0}return!1}))},getOtherQuery:function(t){return Object.keys(t).reduce((function(e,n){return"redirect"!==n&&(e[n]=t[n]),e}),{})}}},L=I,_=(n("2017"),n("2877")),E=Object(_["a"])(L,r,a,!1,null,null,null);e["default"]=E.exports},cafe:function(t,e,n){}}]);
//# sourceMappingURL=chunk-70f3da64.748ba455.js.map
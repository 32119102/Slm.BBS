(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7cd3"],{"51bc":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"page-container"},[i("div",{staticClass:"toolbar"},[i("el-form",{attrs:{inline:!0,model:t.filters}},[i("el-form-item",[i("el-input",{attrs:{clearable:"",placeholder:"名称"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.list}},[t._v(" 查询 ")])],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v(" 新增 ")])],1)],1)],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.results,"highlight-current-row":"",stripe:""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{prop:"id",label:"编号",width:"100"}}),i("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),i("el-table-column",{attrs:{prop:"description",label:"描述"}}),i("el-table-column",{attrs:{prop:"status",label:"状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0===e.row.status?"启用":"禁用")+" ")]}}])}),i("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("formatDate")(e.row.createTime))+" ")]}}])}),i("el-table-column",{attrs:{prop:"updateTime",label:"最后修改时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("formatDate")(e.row.updateTime))+" ")]}}])}),i("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small"},on:{click:function(i){return t.handleEdit(e.$index,e.row)}}},[t._v(" 编辑 ")]),i("el-button",{attrs:{size:"small"},on:{click:function(i){return t.handleDel(e.$index,e.row)}}},[t._v(" 删除 ")])]}}])})],1),i("div",{staticClass:"pagebar"},[i("el-pagination",{attrs:{"page-sizes":[20,50,100,300],"current-page":t.page.page,"page-size":t.page.limit,total:t.page.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":t.handlePageChange,"size-change":t.handleLimitChange}})],1),i("el-dialog",{attrs:{visible:t.addFormVisible,"close-on-click-modal":!1,title:"新增"},on:{"update:visible":function(e){t.addFormVisible=e}}},[i("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"名称"}},[i("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),i("el-form-item",{attrs:{label:"描述",prop:"description"}},[i("el-input",{attrs:{type:"textarea","auto-complete":"off"},model:{value:t.addForm.description,callback:function(e){t.$set(t.addForm,"description",e)},expression:"addForm.description"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.addFormVisible=!1}}},[t._v(" 取消 ")]),i("el-button",{attrs:{loading:t.addLoading,type:"primary"},nativeOn:{click:function(e){return t.addSubmit.apply(null,arguments)}}},[t._v(" 提交 ")])],1)],1),i("el-dialog",{attrs:{visible:t.editFormVisible,"close-on-click-modal":!1,title:"编辑"},on:{"update:visible":function(e){t.editFormVisible=e}}},[i("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"80px"}},[i("el-input",{attrs:{type:"hidden"},model:{value:t.editForm.id,callback:function(e){t.$set(t.editForm,"id",e)},expression:"editForm.id"}}),i("el-form-item",{attrs:{label:"名称"}},[i("el-input",{model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),i("el-form-item",{attrs:{label:"描述",prop:"description"}},[i("el-input",{attrs:{type:"textarea","auto-complete":"off"},model:{value:t.editForm.description,callback:function(e){t.$set(t.editForm,"description",e)},expression:"editForm.description"}})],1),i("el-form-item",{attrs:{label:"状态"}},[i("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.editForm.status,callback:function(e){t.$set(t.editForm,"status",e)},expression:"editForm.status"}},[i("el-option",{attrs:{value:0,label:"启用"}}),i("el-option",{attrs:{value:1,label:"禁用"}})],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.editFormVisible=!1}}},[t._v(" 取消 ")]),i("el-button",{attrs:{loading:t.editLoading,type:"primary"},nativeOn:{click:function(e){return t.editSubmit.apply(null,arguments)}}},[t._v(" 提交 ")])],1)],1)],1)},l=[],o=(i("d3b7"),i("b0c0"),{data:function(){return{results:[],listLoading:!1,page:{page:1,limit:20},filters:{},selectedRows:[],addForm:{name:"",description:"",status:"",createTime:""},addFormVisible:!1,addLoading:!1,editForm:{id:"",name:"",description:"",status:"",createTime:""},editFormVisible:!1,editLoading:!1}},mounted:function(){this.list()},methods:{list:function(){var t=this;t.listLoading=!0;var e=Object.assign(t.filters,{page:t.page.page,limit:t.page.limit});this.axios.get("/api/app/tag?Name="+(t.filters.name||"")+"&SkipCount="+this.getSkipCount(e.page,e.limit)+"&MaxResultCount="+e.limit).then((function(e){t.results=e.items,t.page.total=e.totalCount})).finally((function(){t.listLoading=!1}))},handlePageChange:function(t){this.page.page=t,this.list()},handleLimitChange:function(t){this.page.limit=t,this.list()},handleSelectionChange:function(t){this.selectedRows=t},handleAdd:function(){this.addForm={name:"",description:""},this.addFormVisible=!0},addSubmit:function(){var t=this;this.axios.post("/api/app/tag",this.addForm).then((function(e){t.$message({message:"提交成功",type:"success"}),t.addFormVisible=!1,t.list()})).catch((function(e){t.$notify.error({title:"错误",message:e.message})}))},handleEdit:function(t,e){var i=this;this.axios.get("/api/app/tag/"+e.id).then((function(t){i.editForm=Object.assign({},t),i.editFormVisible=!0})).catch((function(t){i.$notify.error({title:"错误",message:t.message})}))},editSubmit:function(){var t=this;this.axios.put("/api/app/tag/"+t.editForm.id,t.editForm).then((function(e){t.list(),t.editFormVisible=!1})).catch((function(e){t.$notify.error({title:"错误",message:e.message})}))},handleDel:function(t,e){var i=this,a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.axios.delete("/api/app/tag/"+e.id).then((function(t){a.$message({message:"删除成功",type:"success"}),a.list()})).catch((function(t){a.$notify.error({title:"错误",message:t.message})}))})).catch((function(){}))}}}),n=o,s=i("2877"),r=Object(s["a"])(n,a,l,!1,null,"39e24965",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0c7cd3.717d687e.js.map
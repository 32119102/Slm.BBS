{"version":3,"sources":["webpack:///./src/views/pages/users/index.vue?4d68","webpack:///./src/views/pages/users/score-log.vue?6233","webpack:///src/views/pages/users/score-log.vue","webpack:///./src/views/pages/users/score-log.vue?acc4","webpack:///./src/views/pages/users/score-log.vue","webpack:///src/views/pages/users/index.vue","webpack:///./src/views/pages/users/index.vue?7024","webpack:///./src/views/pages/users/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","filters","model","value","callback","$$v","$set","expression","on","list","_v","handleAdd","directives","name","rawName","staticStyle","results","handleSelectionChange","scopedSlots","_u","key","fn","scope","_s","row","userName","_l","role","status","_f","createTime","commentCount","fansCount","followCount","topicCount","description","forbiddenEndTime","handleCommand","slot","cmd","page","limit","total","handlePageChange","handleLimitChange","addFormVisible","$event","ref","addForm","addFormRules","item","nativeOn","addLoading","addSubmit","apply","arguments","editFormVisible","editForm","editFormRules","editLoading","editSubmit","forbiddenFormVisible","forbiddenForm","forbiddenLoading","forbidden","staticRenderFns","isShowLog","type","_e","data","userId","listLoading","mounted","methods","val","component","components","id","selectedRows","roles","username","nickname","avatar","email","password","days","reason","me","skipCount","getSkipCount","maxResultCount","axios","params","length","join","handleEdit","showForbiddenDialog","showScoreLog","$refs","scoreLog","showLog","removeForbidden"],"mappings":"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","file":"js/chunk-2d0b5d5b.8a6eabc8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"page-container\"},[_c('div',{staticClass:\"toolbar\"},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.filters}},[_c('el-form-item',[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"用户名\"},model:{value:(_vm.filters.username),callback:function ($$v) {_vm.$set(_vm.filters, \"username\", $$v)},expression:\"filters.username\"}})],1),_c('el-form-item',[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"昵称\"},model:{value:(_vm.filters.nickname),callback:function ($$v) {_vm.$set(_vm.filters, \"nickname\", $$v)},expression:\"filters.nickname\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.list}},[_vm._v(\" 查询 \")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\" 新增 \")])],1)],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.results,\"highlight-current-row\":\"\",\"stripe\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-descriptions',{attrs:{\"title\":\"用户信息\",\"column\":4,\"border\":\"\",\"size\":\"small\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"用户名\"}},[_vm._v(_vm._s(scope.row.userName))]),_c('el-descriptions-item',{attrs:{\"label\":\"角色\"}},_vm._l((scope.row.roles),function(role){return _c('el-tag',{key:role,staticStyle:{\"margin-right\":\"3px\"},attrs:{\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(role)+\" \")])}),1),_c('el-descriptions-item',{attrs:{\"label\":\"状态\"}},[_vm._v(_vm._s(scope.row.status === 0 ? \"正常\" : \"禁用\"))]),_c('el-descriptions-item',{attrs:{\"label\":\"注册时间\"}},[_vm._v(_vm._s(_vm._f(\"formatDate\")(scope.row.createTime)))]),_c('el-descriptions-item',{attrs:{\"label\":\"跟帖数量\"}},[_vm._v(_vm._s(scope.row.commentCount))]),_c('el-descriptions-item',{attrs:{\"label\":\"粉丝数量\"}},[_vm._v(_vm._s(scope.row.fansCount))]),_c('el-descriptions-item',{attrs:{\"label\":\"关注数量\"}},[_vm._v(_vm._s(scope.row.followCount))]),_c('el-descriptions-item',{attrs:{\"label\":\"帖子数量\"}},[_vm._v(_vm._s(scope.row.topicCount))]),_c('el-descriptions-item',{attrs:{\"label\":\"描述\"}},[_vm._v(_vm._s(scope.row.description))])],1)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"avatar\",\"label\":\"头像\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('avatar',{attrs:{\"user\":scope.row}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"用户名\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"nickname\",\"label\":\"昵称\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_c('el-table-column',{attrs:{\"prop\":\"score\",\"label\":\"积分\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"forbidden\",\"label\":\"是否禁言\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.forbidden)?_c('span',{staticClass:\"tag is-warning\"},[(scope.row.forbiddenEndTime === -1)?[_vm._v(\"永久禁言\")]:[_vm._v(\"禁言至：\"+_vm._s(_vm._f(\"formatDate\")(scope.row.forbiddenEndTime)))]],2):_c('span',{staticClass:\"tag is-success\"},[_vm._v(\"正常\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"注册时间\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(scope.row.createTime))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{attrs:{\"size\":\"mini\",\"trigger\":\"hover\",\"placement\":\"bottom\"},on:{\"command\":_vm.handleCommand}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\" 操作\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":{ cmd: 'edit', row: scope.row }}},[_vm._v(\" 编辑 \")]),(scope.row.forbidden)?_c('el-dropdown-item',{attrs:{\"command\":{ cmd: 'removeForbidden', row: scope.row }}},[_vm._v(\" 取消禁言 \")]):_c('el-dropdown-item',{attrs:{\"command\":{ cmd: 'forbidden', row: scope.row }}},[_vm._v(\" 禁言 \")]),_c('el-dropdown-item',{attrs:{\"command\":{ cmd: 'scoreLog', row: scope.row }}},[_vm._v(\" 积分记录 \")])],1)],1)]}}])})],1),_c('div',{staticClass:\"pagebar\"},[_c('el-pagination',{attrs:{\"page-sizes\":[20, 50, 100, 300],\"current-page\":_vm.page.page,\"page-size\":_vm.page.limit,\"total\":_vm.page.total,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"current-change\":_vm.handlePageChange,\"size-change\":_vm.handleLimitChange}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.addFormVisible,\"close-on-click-modal\":false,\"title\":\"新增\"},on:{\"update:visible\":function($event){_vm.addFormVisible=$event}}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"昵称\",\"prop\":\"nickname\"}},[_c('el-input',{model:{value:(_vm.addForm.nickname),callback:function ($$v) {_vm.$set(_vm.addForm, \"nickname\", $$v)},expression:\"addForm.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色\",\"prop\":\"roles\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"filterable\":\"\",\"placeholder\":\"用户角色\"},model:{value:(_vm.addForm.roles),callback:function ($$v) {_vm.$set(_vm.addForm, \"roles\", $$v)},expression:\"addForm.roles\"}},_vm._l((_vm.roles),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"不填写默认密码123456\"},model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.addFormVisible = false}}},[_vm._v(\" 取消 \")]),_c('el-button',{attrs:{\"loading\":_vm.addLoading,\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.addSubmit.apply(null, arguments)}}},[_vm._v(\" 提交 \")])],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.editFormVisible,\"close-on-click-modal\":false,\"title\":\"编辑\"},on:{\"update:visible\":function($event){_vm.editFormVisible=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"80px\"}},[_c('el-input',{attrs:{\"type\":\"hidden\"},model:{value:(_vm.editForm.id),callback:function ($$v) {_vm.$set(_vm.editForm, \"id\", $$v)},expression:\"editForm.id\"}}),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"userName\"}},[_c('el-input',{model:{value:(_vm.editForm.userName),callback:function ($$v) {_vm.$set(_vm.editForm, \"userName\", $$v)},expression:\"editForm.userName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"昵称\",\"prop\":\"nickname\"}},[_c('el-input',{model:{value:(_vm.editForm.nickname),callback:function ($$v) {_vm.$set(_vm.editForm, \"nickname\", $$v)},expression:\"editForm.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色\",\"prop\":\"roles\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"filterable\":\"\",\"placeholder\":\"用户角色\"},model:{value:(_vm.editForm.roles),callback:function ($$v) {_vm.$set(_vm.editForm, \"roles\", $$v)},expression:\"editForm.roles\"}},_vm._l((_vm.roles),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"不填写表示不更改密码\"},model:{value:(_vm.editForm.password),callback:function ($$v) {_vm.$set(_vm.editForm, \"password\", $$v)},expression:\"editForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.editForm.status),callback:function ($$v) {_vm.$set(_vm.editForm, \"status\", $$v)},expression:\"editForm.status\"}},[_c('el-option',{key:0,attrs:{\"value\":0,\"label\":\"正常\"}}),_c('el-option',{key:1,attrs:{\"value\":1,\"label\":\"禁用\"}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.editFormVisible = false}}},[_vm._v(\" 取消 \")]),_c('el-button',{attrs:{\"loading\":_vm.editLoading,\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.editSubmit.apply(null, arguments)}}},[_vm._v(\" 提交 \")])],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.forbiddenFormVisible,\"close-on-click-modal\":false,\"title\":\"禁言\"},on:{\"update:visible\":function($event){_vm.forbiddenFormVisible=$event}}},[_c('el-form',{ref:\"forbiddenForm\",attrs:{\"model\":_vm.forbiddenForm,\"label-width\":\"80px\"}},[_c('el-input',{attrs:{\"type\":\"hidden\"},model:{value:(_vm.forbiddenForm.userId),callback:function ($$v) {_vm.$set(_vm.forbiddenForm, \"userId\", $$v)},expression:\"forbiddenForm.userId\"}}),_c('el-form-item',{attrs:{\"label\":\"禁言时间\",\"prop\":\"reason\"}},[_c('el-select',{model:{value:(_vm.forbiddenForm.days),callback:function ($$v) {_vm.$set(_vm.forbiddenForm, \"days\", $$v)},expression:\"forbiddenForm.days\"}},[_c('el-option',{attrs:{\"label\":\"3天\",\"value\":\"3\"}}),_c('el-option',{attrs:{\"label\":\"5天\",\"value\":\"3\"}}),_c('el-option',{attrs:{\"label\":\"7天\",\"value\":\"7\"}}),_c('el-option',{attrs:{\"label\":\"15天\",\"value\":\"15\"}}),_c('el-option',{attrs:{\"label\":\"30天\",\"value\":\"30\"}}),_c('el-option',{attrs:{\"label\":\"永久\",\"value\":\"-1\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"禁言原因\",\"prop\":\"reason\"}},[_c('el-select',{model:{value:(_vm.forbiddenForm.reason),callback:function ($$v) {_vm.$set(_vm.forbiddenForm, \"reason\", $$v)},expression:\"forbiddenForm.reason\"}},[_c('el-option',{attrs:{\"value\":\"广告\"}}),_c('el-option',{attrs:{\"value\":\"灌水\"}}),_c('el-option',{attrs:{\"value\":\"涉黄\"}}),_c('el-option',{attrs:{\"value\":\"涉政\"}}),_c('el-option',{attrs:{\"value\":\"其他\"}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.forbiddenFormVisible = false}}},[_vm._v(\" 取消 \")]),_c('el-button',{attrs:{\"loading\":_vm.forbiddenLoading,\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.forbidden.apply(null, arguments)}}},[_vm._v(\" 禁言 \")])],1)],1),_c('score-log',{ref:\"scoreLog\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isShowLog)?_c('el-dialog',{attrs:{\"visible\":_vm.isShowLog,\"width\":\"80%\",\"title\":\"积分记录\"},on:{\"update:visible\":function($event){_vm.isShowLog=$event}}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],attrs:{\"data\":_vm.results,\"highlight-current-row\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"sourceType\",\"label\":\"来源类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"sourceId\",\"label\":\"来源编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"描述\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.type === 0 ? \"增加\" : \"减少\")+\" \")]}}],null,false,2461144749)}),_c('el-table-column',{attrs:{\"prop\":\"score\",\"label\":\"积分\"}}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(scope.row.createTime))+\" \")]}}],null,false,3078916098)})],1),_c('div',{staticClass:\"pagebar\"},[_c('el-pagination',{attrs:{\"page-sizes\":[20, 50, 100, 300],\"current-page\":_vm.page.page,\"page-size\":_vm.page.limit,\"total\":_vm.page.total,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"current-change\":_vm.handlePageChange,\"size-change\":_vm.handleLimitChange}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog v-if=\"isShowLog\" :visible.sync=\"isShowLog\" width=\"80%\" title=\"积分记录\">\n    <el-table v-loading=\"listLoading\" :data=\"results\" highlight-current-row border>\n      <el-table-column prop=\"id\" label=\"编号\" />\n      <el-table-column prop=\"sourceType\" label=\"来源类型\" />\n      <el-table-column prop=\"sourceId\" label=\"来源编号\" />\n      <el-table-column prop=\"description\" label=\"描述\" />\n      <el-table-column prop=\"type\" label=\"类型\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.type === 0 ? \"增加\" : \"减少\" }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"score\" label=\"积分\" />\n      <el-table-column prop=\"createTime\" label=\"创建时间\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.createTime | formatDate }}\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <div class=\"pagebar\">\n      <el-pagination\n        :page-sizes=\"[20, 50, 100, 300]\"\n        :current-page=\"page.page\"\n        :page-size=\"page.limit\"\n        :total=\"page.total\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        @current-change=\"handlePageChange\"\n        @size-change=\"handleLimitChange\"\n      />\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      isShowLog: false,\n      userId: 0,\n      results: [],\n      listLoading: false,\n      page: {},\n      filters: {},\n    };\n  },\n  mounted() {},\n  methods: {\n    async showLog(userId) {\n      this.userId = userId;\n      this.isShowLog = true;\n      await this.list();\n    },\n    async list() {\n      this.listLoading = true;\n      const params = Object.assign(this.filters, {\n        skipCount: this.getSkipCount(this.page.page, this.page.limit),\n        maxResultCount: this.page.limit,\n      });\n      params.userId = this.userId;\n      try {\n        const data = await this.axios.post(\"/api/app/user-score-log/paged\", params);\n        this.results = data.items;\n        this.page.total = data.totalCount;\n      } catch (err) {\n        this.$notify.error({ title: \"错误\", message: err.message || err });\n      } finally {\n        this.listLoading = false;\n      }\n    },\n    handlePageChange(val) {\n      this.page.page = val;\n      this.list();\n    },\n    handleLimitChange(val) {\n      this.page.limit = val;\n      this.list();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./score-log.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./score-log.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./score-log.vue?vue&type=template&id=0c62685c&scoped=true&\"\nimport script from \"./score-log.vue?vue&type=script&lang=js&\"\nexport * from \"./score-log.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c62685c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"page-container\">\n    <div class=\"toolbar\">\n      <el-form :inline=\"true\" :model=\"filters\">\n        <el-form-item>\n          <el-input v-model=\"filters.username\" clearable placeholder=\"用户名\" />\n        </el-form-item>\n        <el-form-item>\n          <el-input v-model=\"filters.nickname\" clearable placeholder=\"昵称\" />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"list\"> 查询 </el-button>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleAdd\"> 新增 </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"results\"\n      highlight-current-row\n      stripe\n      style=\"width: 100%\"\n      @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"scope\">\n          <el-descriptions title=\"用户信息\" :column=\"4\" border size=\"small\">\n            <el-descriptions-item label=\"用户名\">{{ scope.row.userName }}</el-descriptions-item>\n            <el-descriptions-item label=\"角色\">\n              <el-tag\n                v-for=\"role in scope.row.roles\"\n                :key=\"role\"\n                size=\"mini\"\n                style=\"margin-right: 3px\"\n              >\n                {{ role }}\n              </el-tag>\n            </el-descriptions-item>\n            <el-descriptions-item label=\"状态\">{{\n              scope.row.status === 0 ? \"正常\" : \"禁用\"\n            }}</el-descriptions-item>\n            <el-descriptions-item label=\"注册时间\">{{\n              scope.row.createTime | formatDate\n            }}</el-descriptions-item>\n            <el-descriptions-item label=\"跟帖数量\">{{\n              scope.row.commentCount\n            }}</el-descriptions-item>\n            <el-descriptions-item label=\"粉丝数量\">{{ scope.row.fansCount }}</el-descriptions-item>\n            <el-descriptions-item label=\"关注数量\">{{\n              scope.row.followCount\n            }}</el-descriptions-item>\n            <el-descriptions-item label=\"帖子数量\">{{ scope.row.topicCount }}</el-descriptions-item>\n            <el-descriptions-item label=\"描述\">{{ scope.row.description }}</el-descriptions-item>\n          </el-descriptions>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"id\" label=\"编号\" width=\"100\" />\n      <el-table-column prop=\"avatar\" label=\"头像\" width=\"80\">\n        <template slot-scope=\"scope\">\n          <avatar :user=\"scope.row\" />\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"userName\" label=\"用户名\" width=\"120\" />\n      <el-table-column prop=\"nickname\" label=\"昵称\" />\n      <el-table-column prop=\"email\" label=\"邮箱\" />\n      <el-table-column prop=\"score\" label=\"积分\" width=\"120\" />\n      <el-table-column prop=\"forbidden\" label=\"是否禁言\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <span v-if=\"scope.row.forbidden\" class=\"tag is-warning\">\n            <template v-if=\"scope.row.forbiddenEndTime === -1\">永久禁言</template>\n            <template v-else>禁言至：{{ scope.row.forbiddenEndTime | formatDate }}</template>\n          </span>\n          <span v-else class=\"tag is-success\">正常</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"createTime\" label=\"注册时间\" width=\"180\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.createTime | formatDate }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"150\">\n        <template slot-scope=\"scope\">\n          <el-dropdown size=\"mini\" trigger=\"hover\" placement=\"bottom\" @command=\"handleCommand\">\n            <el-button type=\"primary\">\n              操作<i class=\"el-icon-arrow-down el-icon--right\" />\n            </el-button>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item :command=\"{ cmd: 'edit', row: scope.row }\"> 编辑 </el-dropdown-item>\n              <el-dropdown-item\n                v-if=\"scope.row.forbidden\"\n                :command=\"{ cmd: 'removeForbidden', row: scope.row }\"\n              >\n                取消禁言\n              </el-dropdown-item>\n              <el-dropdown-item v-else :command=\"{ cmd: 'forbidden', row: scope.row }\">\n                禁言\n              </el-dropdown-item>\n              <el-dropdown-item :command=\"{ cmd: 'scoreLog', row: scope.row }\">\n                积分记录\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <div class=\"pagebar\">\n      <el-pagination\n        :page-sizes=\"[20, 50, 100, 300]\"\n        :current-page=\"page.page\"\n        :page-size=\"page.limit\"\n        :total=\"page.total\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        @current-change=\"handlePageChange\"\n        @size-change=\"handleLimitChange\"\n      />\n    </div>\n\n    <el-dialog :visible.sync=\"addFormVisible\" :close-on-click-modal=\"false\" title=\"新增\">\n      <el-form ref=\"addForm\" :model=\"addForm\" :rules=\"addFormRules\" label-width=\"80px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"addForm.username\" />\n        </el-form-item>\n\n        <el-form-item label=\"昵称\" prop=\"nickname\">\n          <el-input v-model=\"addForm.nickname\" />\n        </el-form-item>\n\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"addForm.email\" />\n        </el-form-item>\n\n        <el-form-item label=\"角色\" prop=\"roles\">\n          <el-select\n            v-model=\"addForm.roles\"\n            multiple\n            filterable\n            placeholder=\"用户角色\"\n            style=\"width: 100%\"\n          >\n            <el-option v-for=\"item in roles\" :key=\"item\" :label=\"item\" :value=\"item\" />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"addForm.password\" placeholder=\"不填写默认密码123456\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click.native=\"addFormVisible = false\"> 取消 </el-button>\n        <el-button :loading=\"addLoading\" type=\"primary\" @click.native=\"addSubmit\"> 提交 </el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog :visible.sync=\"editFormVisible\" :close-on-click-modal=\"false\" title=\"编辑\">\n      <el-form ref=\"editForm\" :model=\"editForm\" :rules=\"editFormRules\" label-width=\"80px\">\n        <el-input v-model=\"editForm.id\" type=\"hidden\" />\n        <el-form-item label=\"用户名\" prop=\"userName\">\n          <el-input v-model=\"editForm.userName\" />\n        </el-form-item>\n        <el-form-item label=\"昵称\" prop=\"nickname\">\n          <el-input v-model=\"editForm.nickname\" />\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"editForm.email\" />\n        </el-form-item>\n        <el-form-item label=\"角色\" prop=\"roles\">\n          <el-select\n            v-model=\"editForm.roles\"\n            multiple\n            filterable\n            placeholder=\"用户角色\"\n            style=\"width: 100%\"\n          >\n            <el-option v-for=\"item in roles\" :key=\"item\" :label=\"item\" :value=\"item\" />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"editForm.password\" placeholder=\"不填写表示不更改密码\" />\n        </el-form-item>\n\n        <el-form-item label=\"状态\" prop=\"status\">\n          <el-select v-model=\"editForm.status\" placeholder=\"请选择\">\n            <el-option :key=\"0\" :value=\"0\" label=\"正常\" />\n            <el-option :key=\"1\" :value=\"1\" label=\"禁用\" />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click.native=\"editFormVisible = false\"> 取消 </el-button>\n        <el-button :loading=\"editLoading\" type=\"primary\" @click.native=\"editSubmit\">\n          提交\n        </el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog :visible.sync=\"forbiddenFormVisible\" :close-on-click-modal=\"false\" title=\"禁言\">\n      <el-form ref=\"forbiddenForm\" :model=\"forbiddenForm\" label-width=\"80px\">\n        <el-input v-model=\"forbiddenForm.userId\" type=\"hidden\" />\n        <el-form-item label=\"禁言时间\" prop=\"reason\">\n          <el-select v-model=\"forbiddenForm.days\">\n            <el-option label=\"3天\" value=\"3\" />\n            <el-option label=\"5天\" value=\"3\" />\n            <el-option label=\"7天\" value=\"7\" />\n            <el-option label=\"15天\" value=\"15\" />\n            <el-option label=\"30天\" value=\"30\" />\n            <el-option label=\"永久\" value=\"-1\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"禁言原因\" prop=\"reason\">\n          <el-select v-model=\"forbiddenForm.reason\">\n            <el-option value=\"广告\" />\n            <el-option value=\"灌水\" />\n            <el-option value=\"涉黄\" />\n            <el-option value=\"涉政\" />\n            <el-option value=\"其他\" />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click.native=\"forbiddenFormVisible = false\"> 取消 </el-button>\n        <el-button :loading=\"forbiddenLoading\" type=\"primary\" @click.native=\"forbidden\">\n          禁言\n        </el-button>\n      </div>\n    </el-dialog>\n\n    <score-log ref=\"scoreLog\" />\n  </section>\n</template>\n\n<script>\nimport ScoreLog from \"./score-log\";\nimport Avatar from \"@/components/Avatar\";\n\nexport default {\n  components: { ScoreLog, Avatar },\n  data() {\n    return {\n      results: [],\n      listLoading: false,\n      page: {},\n      filters: {\n        id: \"\",\n      },\n      selectedRows: [],\n      roles: [\"owner\", \"admin\", \"user\"],\n\n      addForm: {\n        username: \"\",\n        nickname: \"\",\n        avatar: \"\",\n        email: \"\",\n        roles: [],\n        password: \"\",\n        status: \"\",\n      },\n      addFormVisible: false,\n      addFormRules: {},\n      addLoading: false,\n\n      editForm: {\n        id: \"\",\n        username: \"\",\n        nickname: \"\",\n        avatar: \"\",\n        email: \"\",\n        roles: [],\n        password: \"\",\n        status: \"\",\n      },\n      editFormVisible: false,\n      editFormRules: {},\n      editLoading: false,\n\n      forbiddenForm: {\n        userId: \"\",\n        days: 0,\n        reason: \"\",\n      },\n      forbiddenFormVisible: false,\n      forbiddenLoading: false,\n    };\n  },\n  mounted() {\n    this.list();\n  },\n  methods: {\n    list() {\n      const me = this;\n      me.listLoading = true;\n      const params = Object.assign(me.filters, {\n        skipCount: this.getSkipCount(me.page.page, me.page.limit),\n        maxResultCount: me.page.limit,\n      });\n      this.axios\n        .post(\"/api/app/user/paged\", params)\n        .then((data) => {\n          me.results = data.items;\n          me.page.total = data.totalCount;\n        })\n        .finally(() => {\n          me.listLoading = false;\n        });\n    },\n    handlePageChange(val) {\n      this.page.page = val;\n      this.list();\n    },\n    handleLimitChange(val) {\n      this.page.limit = val;\n      this.list();\n    },\n    handleAdd() {\n      this.addForm = {\n        name: \"\",\n        description: \"\",\n      };\n      this.addFormVisible = true;\n    },\n    addSubmit() {\n      const me = this;\n      const params = { ...this.addForm };\n      if (params.roles && params.roles.length) {\n        params.roles = params.roles.join(\",\");\n      } else {\n        params.roles = \"\";\n      }\n      this.axios\n        .post(\"/api/app/user\", params)\n        .then((data) => {\n          me.$message({ message: \"提交成功\", type: \"success\" });\n          me.addFormVisible = false;\n          me.list();\n        })\n        .catch((rsp) => {\n          me.$notify.error({ title: \"错误\", message: rsp.message });\n        });\n    },\n    handleEdit(row) {\n      const me = this;\n      this.axios\n        .get(`/api/app/user/${row.id}`)\n        .then((data) => {\n          me.editForm = Object.assign({}, data);\n          this.$set(me.editForm, \"password\", \"\");\n          me.editForm.password = \"\";\n          me.editFormVisible = true;\n        })\n        .catch((rsp) => {\n          me.$notify.error({ title: \"错误\", message: rsp.message });\n        });\n    },\n    editSubmit() {\n      const params = { ...this.editForm };\n      if (params.roles && params.roles.length) {\n        params.roles = params.roles.join(\",\");\n      } else {\n        params.roles = \"\";\n      }\n      const me = this;\n      this.axios\n        .put(\"/api/app/user/\" + params.id, params)\n        .then((data) => {\n          me.list();\n          me.editFormVisible = false;\n        })\n        .catch((rsp) => {\n          me.$notify.error({ title: \"错误\", message: rsp.message });\n        });\n    },\n    handleSelectionChange(val) {\n      this.selectedRows = val;\n    },\n    showForbiddenDialog(row) {\n      this.forbiddenForm = {\n        userId: row.id,\n        days: 7,\n        reason: \"广告\",\n      };\n      this.forbiddenFormVisible = true;\n    },\n    async forbidden() {\n      this.forbiddenLoading = true;\n      try {\n        await this.axios.form(\"/api/admin/user/forbidden\", this.forbiddenForm);\n        this.forbiddenForm = {};\n        this.forbiddenFormVisible = false;\n        this.$message.success(\"禁言成功\");\n        this.list();\n      } catch (e) {\n        this.$message.success(\"禁言失败 \" + (e.message || e));\n      } finally {\n        this.forbiddenLoading = false;\n      }\n    },\n    async removeForbidden(row) {\n      try {\n        await this.axios.form(\"/api/admin/user/forbidden\", {\n          userId: row.id,\n          days: 0,\n        });\n        this.$message.success(\"取消禁言成功\");\n        this.list();\n      } catch (e) {\n        this.$message.success(\"取消禁言失败 \" + (e.message || e));\n      }\n    },\n    showScoreLog(row) {\n      this.$refs.scoreLog.showLog(row.id);\n    },\n    handleCommand(cmd) {\n      if (cmd.cmd === \"edit\") {\n        this.handleEdit(cmd.row);\n      } else if (cmd.cmd === \"removeForbidden\") {\n        this.removeForbidden(cmd.row);\n      } else if (cmd.cmd === \"forbidden\") {\n        this.showForbiddenDialog(cmd.row);\n      } else if (cmd.cmd === \"scoreLog\") {\n        this.showScoreLog(cmd.row);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=505ee283&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"505ee283\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}